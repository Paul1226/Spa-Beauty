---
interface NAV {
    name: string;
    href: string;
    d: string;
    d2?: string;
}

const NAV = [
    {
        name: "Home",
        href: "/",
        d: "M21.25 5.724V6.099L21.55 6.324C22.6179 7.1249 23.25 8.37996 23.25 9.724V19C23.25 21.3428 21.3428 23.25 19 23.25H17C16.8617 23.25 16.75 23.1383 16.75 23V14C16.75 13.0353 15.9667 12.25 15 12.25H9C8.0333 12.25 7.25 13.0353 7.25 14V23C7.25 23.1383 7.1383 23.25 7 23.25H5C2.65721 23.25 0.75 21.3428 0.75 19V9.724C0.75 8.30842 1.45003 6.99233 2.62254 6.20068C2.62258 6.20065 2.62262 6.20062 2.62266 6.2006L9.6224 1.47678C11.0679 0.50174 12.9321 0.50174 14.3776 1.47678L19.5805 4.98769L20.75 5.77689V4.366V2C20.75 1.86172 20.8617 1.75 21 1.75C21.1383 1.75 21.25 1.86172 21.25 2V5.724Z",
    },
    {
        name: "About",
        href: "/About",
        d: "M4.98396 15.984C5.7727 15.1952 6.84204 14.7515 7.95748 14.75H16.0425C17.158 14.7515 18.2273 15.1952 19.016 15.984C19.8049 16.7728 20.2487 17.8423 20.25 18.9579V23.25H3.75V18.9575C3.75146 17.842 4.19521 16.7727 4.98396 15.984Z",
        d2: "M17.25 6C17.25 8.8995 14.8995 11.25 12 11.25C9.10051 11.25 6.75 8.8995 6.75 6C6.75 3.10051 9.10051 0.75 12 0.75C14.8995 0.75 17.25 3.10051 17.25 6Z",
    },
    {
        name: "Services",
        href: "/Services",
        d: "m15.47 13.879-.399-.635c-.766.48-1.885 1.006-3.07 1.006-1.185 0-2.305-.526-3.07-1.006a1.751 1.751 0 0 0-1.86 2.964c1.094.688 2.864 1.542 4.929 1.542 1.95 0 3.64-.763 4.743-1.427h.006l.183-.115a1.75 1.75 0 1 0-1.862-2.963l.4.634Zm0 0c-.816.512-2.079 1.121-3.469 1.121-1.39 0-2.654-.609-3.469-1.121l8.316.316a1 1 0 0 0-1.378-.316ZM22.5 9.75h.039c.395.02.711.35.711.749v3c0 .413-.337.75-.75.75h-1.25v7.605a1.396 1.396 0 0 1-1.399 1.399c-.27 0-.54-.079-.775-.235l-3.963-2.642-.189-.126H7A4.256 4.256 0 0 1 2.75 16v-1.75H1.5a.752.752 0 0 1-.75-.75v-3c0-.413.337-.75.75-.75h1.25V8A4.256 4.256 0 0 1 7 3.75h4.75V1a.25.25 0 1 1 .5 0v2.75H17A4.256 4.256 0 0 1 21.25 8v1.75h1.25ZM10.75 9.5a2.25 2.25 0 1 0-4.501.001A2.25 2.25 0 0 0 10.75 9.5Zm2.5 0a2.25 2.25 0 1 0 4.501-.001 2.25 2.25 0 0 0-4.501.001Z",
    },
    {
        name: "Facilities",
        href: "/Facilities",
        d: "m17.937 10.862.276-.276v1.811c0 1.35-.687 2.636-1.532 3.724-.856 1.104-1.95 2.099-2.926 2.882a2.858 2.858 0 0 1-1.793.627c-.631 0-1.27-.206-1.793-.626l7.768-8.142Zm0 0c-.577-1.554-2.003-2.69-3.725-2.69-.837 0-1.609.207-2.25.6-.641-.392-1.413-.6-2.25-.6-2.253 0-4 1.944-4 4.226 0 1.349.686 2.635 1.531 3.724.857 1.103 1.95 2.098 2.926 2.882l7.768-8.142ZM2.623 6.2l7-4.723a4.23 4.23 0 0 1 4.755 0l5.203 3.51 1.169.79V1.999a.25.25 0 0 1 .25-.25.25.25 0 0 1 .25.25V6.109l.3.225a4.237 4.237 0 0 1 1.7 3.389v9.276a4.256 4.256 0 0 1-4.25 4.25H5a4.256 4.256 0 0 1-4.25-4.25V9.723c0-1.416.7-2.732 1.873-3.523Zm12.089 6.198c0 .266-.193.787-.766 1.532-.473.617-1.146 1.308-1.984 2.017-.838-.71-1.51-1.4-1.984-2.017-.573-.746-.766-1.267-.766-1.533 0-.52.337-.726.5-.726.227 0 .366.042.428.082.02.014.03.025.038.042.01.019.034.077.034.203a1.75 1.75 0 1 0 3.5 0c0-.127.024-.185.034-.204a.099.099 0 0 1 .038-.041c.062-.04.2-.082.428-.082.162 0 .5.205.5.727Z",
    },
];

import Search from "../components/Search.astro";
---

<header class="py-4 sticky top-0 w-full z-30 xl:fixed">
    <div
        class="w-11/12 mx-auto contenido grid grid-cols-min justify-between items-center gap-y-4 overflow-visible"
    >
        <!-- botones login -->
        <aside class="[grid-area:link] w-max">
            <a
                class="text-primary py-2 px-4 rounded-full text-sm transition-colors duration-300 hidden hover:bg-white/80 hover:underline md:inline-flex"
                href="#">Sign In</a
            >
            <a
                class="bg-primary text-white py-2 px-4 rounded-full inline-flex text-sm"
                href="#">Sign Up</a
            >
        </aside>

        <!-- logo -->
        <div
            class="text-center [grid-area:logo] [opacity:var(--img1)] transition-opacity duration-300"
        >
            <a
                class="text-2xl text-primary font-semibold transition-color duration-500"
                href="/"
                >Glow<span class="text-secondary">Queen</span>
            </a>
        </div>

        <!-- shop y buscador -->
        <div class="[grid-area:shop] flex gap-1 items-center">
            <Search class="hidden lg:flex" />
            <a
                class="bas relative w-full block p-2 rounded-lg hover:bg-tertiary/10 transition-colors duration-300
                before:content-[''] before:absolute before:w-2 before:h-2 before:top-0 before:right-0 before:bg-secondary before:rounded-full before:border-[1px] before:border-solid before:border-primary/50 
                after:absolute after:top-[120%] after:left-1/2 after:-translate-x-1/2 after:bg-tertiary after:rounded-lg after:text-xs after:w-max after:py-1 after:px-2 after:text-white after:hidden hover:after:block after:z-10"
                href="#"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="w-5 fill-quaternary"
                    viewBox="0 0 25 25"
                    fill="none"
                    ><path
                        d="M22.833 6.667h-4.5v-1.2c0-1.273-.632-2.494-1.757-3.394-1.125-.9-2.651-1.406-4.243-1.406-1.591 0-3.117.505-4.242 1.406-1.126.9-1.758 2.12-1.758 3.394v1.2h-4.5c-.398 0-.779.126-1.06.351-.282.225-.44.53-.44.849v13.2c0 .954.474 1.87 1.318 2.545.844.675 1.989 1.055 3.182 1.055h15c1.194 0 2.338-.38 3.182-1.055.844-.675 1.318-1.59 1.318-2.545v-13.2c0-.319-.158-.624-.439-.849a1.709 1.709 0 0 0-1.06-.351Zm-13.5-1.2c0-.637.316-1.247.879-1.697.563-.45 1.326-.703 2.121-.703.796 0 1.559.253 2.122.703.562.45.878 1.06.878 1.697v1.2h-6v-1.2Zm12 15.6c0 .318-.158.623-.439.848a1.709 1.709 0 0 1-1.06.352h-15c-.399 0-.78-.127-1.061-.352-.282-.225-.44-.53-.44-.848v-12h3v1.2c0 .318.158.623.44.848.281.225.662.352 1.06.352s.78-.127 1.061-.352c.281-.225.44-.53.44-.848v-1.2h6v1.2c0 .318.157.623.439.848.281.225.663.352 1.06.352.398 0 .78-.127 1.061-.352.281-.225.44-.53.44-.848v-1.2h3v12Z"
                    ></path></svg
                >
            </a>
        </div>

        <!-- menus de nav -->
        <a
            class="[grid-area:icon] [scale:var(--img1)] relative z-20 transition-all duration-500 lg:hidden"
            href="#nav"
        >
            <svg
                class="w-5 fill-quaternary"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="none"
                ><rect y="3" width="24" height="3"></rect><rect
                    y="8"
                    width="24"
                    height="3"></rect><rect y="18" width="24" height="3"
                ></rect><rect y="13" width="24" height="3"></rect></svg
            >
        </a>

        <!-- cross -->
        <a
            class="[grid-area:icon] [scale:var(--img2)] relative z-20 transition-all duration-500 w-max lg:hidden"
            href="#"
        >
            <svg
                class="w-5 fill-quaternary"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 512 512"
                fill="none"
            >
                <path
                    d="M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256C511.847,114.678,397.322,0.153,256,0z M341.333,311.189c8.669,7.979,9.229,21.475,1.25,30.144c-7.979,8.669-21.475,9.229-30.144,1.25c-0.434-0.399-0.85-0.816-1.25-1.25 L256,286.165l-55.168,55.168c-8.475,8.185-21.98,7.95-30.165-0.525c-7.984-8.267-7.984-21.373,0-29.64L225.835,256l-55.168-55.168 c-8.185-8.475-7.95-21.98,0.525-30.165c8.267-7.984,21.373-7.984,29.64,0L256,225.835l55.189-55.168 c7.979-8.669,21.475-9.229,30.144-1.25c8.669,7.979,9.229,21.475,1.25,30.144c-0.399,0.434-0.816,0.85-1.25,1.25L286.165,256 L341.333,311.189z"
                ></path>
            </svg>
        </a>

        <!-- nav -->
        <nav
            class="min-h-[600px] w-4/6 max-w-[400px] absolute top-0 right-0 z-10 bg-secondary/50 backdrop-blur-md rounded-s-xl flex flex-col items-center justify-center gap-8 px-8 transition-all duration-300 [clip-path:var(--clip)]
            lg:relative lg:w-full lg:h-full lg:min-w-full lg:max-w-full lg:min-h-full lg:bg-transparent lg:backdrop-blur-none lg:rounded-none lg:flex-row lg:gap-0 lg:px-0 lg:[grid-area:nav]"
            id="nav"
        >
            <p
                class="text-3xl text-primary font-semibold relative [opacity:var(--img2)] transition-opacity duration-1000 lg:hidden"
            >
                Glow<span
                    class="text-secondary [-webkit-text-stroke:.5px_#264065]"
                    style="text-shaodw: 1px 1px 1px #000;">Queen</span
                >
            </p>
            <ul class="flex flex-col gap-4 bg-red-40 w-full lg:flex-row">
                {
                    NAV.map(({ name, href, d, d2 }) => (
                        <li>
                            <a
                                class="flex items-center gap-4 bg-white/50 border-2 border-solid border-secondary/50 px-4 py-2 rounded-lg transition-all duration-300 hover:bg-white hover:scale-105 group lg:block lg:gap-0 lg:bg-transparent lg:border-none lg:py-0 lg:px-0  lg:rounded-none lg:hover:bg-transparent lg:hover:scale-100 lg:transition-colors lg:hover:text-secondary"
                                href={href}
                            >
                                <svg
                                    class="w-5 fill-transparent stroke-current transition-all duration-300 group-hover:fill-current lg:hidden"
                                    xmlns="http://www.w3.org/2000/svg"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                    stroke="none"
                                    stroke-width="1.5"
                                >
                                    <path d={d} />
                                    {d2 && <path d={d2} />}
                                </svg>
                                {name}
                            </a>
                        </li>
                    ))
                }
                <li>
                    <a
                        class="flex items-center gap-4 px-4 py-2 rounded-lg justify-between lg:px-0 lg:py-0 lg:gap-2"
                        href="#"
                        >More<svg
                            class="w-4"
                            xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 24 24"
                            fill="currentcolor"
                            ><path
                                d="M18.71 8.21a1 1 0 0 0-1.42 0l-4.58 4.58a1 1 0 0 1-1.42 0L6.71 8.21a1 1 0 0 0-1.42 0 1 1 0 0 0 0 1.41l4.59 4.59a3 3 0 0 0 4.24 0l4.59-4.59a1 1 0 0 0 0-1.41Z"
                            ></path></svg
                        ></a
                    >
                </li>
            </ul>

            <a
                class="text-primary py-2 px-4 rounded-full text-sm transition-colors duration-300 inline-flex hover:bg-white/50 hover:underline md:hidden"
                href="#">Sign In</a
            >
        </nav>

        <!-- buscador en mobible -->
       <Search class="flex items-center max-w-sm mx-auto [grid-area:search] lg:hidden"/> 
    </div>
</header>

<style>
    header {
        --img1: 1;
        --img2: 0;
        --clip: inset(0 0 0 100%);
        --logo: block;
        .contenido {
            grid-template-areas:
                "link logo shop icon"
                "search search search search"
            ;
            
            .bas::before {
                animation: notificacion 1s linear infinite alternate-reverse;
            }
            .bas::after {
                content: "Shop";
            }
            nav {
                transition: clip-path 500ms;
                grid-area: nav;
            }
        }
        .contenido:has(#nav:target) {
            --img1: 0;
            --img2: 1;
            --clip: inset(0 0 0 0);
        }
    }

    @keyframes notificacion {
        0% {
            opacity: 0;
            scale: 0.7;
        }
        100% {
            opacity: 1;
            scale: 1;
        }
    }

    @media screen and (min-width: 1024px) {
        header{

            .contenido {
                grid-template-areas:
                "logo nav shop link"
                ;
                /* background-color: yellow; */
                
                nav {
                    clip-path: none;
                }
            }
        }
    }
</style>
